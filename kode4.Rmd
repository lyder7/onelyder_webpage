---
title: "Finans Wrangle"
description: |
  A new article created using the Distill format.
author:
  - name: "Lyder Aleksander Mathisen"
date: "`r Sys.Date()`"
output: distill::distill_article
---

# *INTRO*


# Introduksjon

Dette er et PDF dokument generert via R-markdown. I forbindelse med masteroppgave og finjusteringer tester jeg hvordan "outputen" blir når jeg kjører gjennom. Alle grafer, tabeller og analytisk matriale du kan se i grafen er laget med kode og tekst skrevet i progrogrammerings språket R. 

I denne versjonen av dokumentet har jeg gjort koden synlig slik at det vises i PDF filen. Normalt vil jeg "skjule" dette fra et dokument som skal publiseres, da jeg kun vil vise resultatene koden faktisk genererer. Og ikke koden i seg selv. Men for min egen læring, og mer urformellt æra viser jeg hva som ligger bak matriale. 

Den første "chunken" ovenfor er hva vi kaller en "set-up" chunk. Altså en kodeblok. Her kan du se at jeg først laster inn noen "pakker" som inneholder funksjoner jeg vil trenge utover i dette dokumentet eller økten om vi kan kalle det. Videre så laster jeg inn tre data sett, som består av aktiva klassene i tre forskjellige formater: log-avkastning, reell-avkastning og reell-meravkastning. 


Videre i dette dokumentetet sjekker jeg hvordan grafer/ploter tilpasser seg dokumentet og tilpasser størrelse og formatettering på bakgrunn av det. Jeg har valgt output-format i YAML-headeren inne i R-markdowndokumentet her jeg skriver nå til å være df_print:kable slik at tabellene ser pene ut i PDF. 

Først ser dere grafer og visuell fremvisning av datasett. Videre tester vi hvordan avkastningnen, annualisert avkastning forandrer seg ettersom vi andrer på avkastningen. 
































```{r DATAc, eval=FALSE}
vtable::st(DATA_c, title = "Deskriptiv Tabell NCREIF CORE", notes = c("Bla bla bla"), out = "kable"))

Jeg skriver dette dokumentet fra macen min. Her skal jeg gjøre analyser, notater og teste ut underveis. Analyser gjort i dette dokumentet er ikke endelig. 

Sjekk *pipenotebook*!!

# *SETUP*

Uansett hvordan jeg har formattert filene mine, eller hvordan workflown er satt opp så må jeg laste inn data, sette opp en "setup" chunck", og jeg må gjøre analysen. 

```{r importm, eval=FALSE}
assetsmulti = read.csv("https://raw.githubusercontent.com/lyder7/testing/main/meta_data/assets_multip.csv", header = TRUE)
start = c(1990,01)
end = c(2020,01)
frequency = 4
a_rrx = na.omit(ts(assetsmulti[,19:23], start = start, frequency = frequency))
library(magrittr)
library(fPortfolio)
z.tslog <- a_rrx %>%
  as.timeSeries()
```



Denne funksjonen fra FPortfolio lagrer en s4 klasse som inneholder informasjon om datasettet, statestikk og andre ting vi vanligvis henter som lengde, antall rader, navn osv. 
```{r lppData_a, eval=FALSE}
lppData_a = portfolioData(data = z.tslog, spec = portfolioSpec())
```

```{r 03-make-a-plot-19, eval=FALSE}

p <- ggplot(data = navnpådata
            mapping = aes(x = navnvariabel
                          y = navnvariabel
p + geom_point(mapping = aes(color = log(navnvariabel))) +
    scale_x_log10()    
```

```{r knitopt, eval = FALSE}
knitr::opts_chunk$set(fig.width=8, fig.height=5) 
```


```{r 03-make-a-plot-20, echo=TRUE, eval=FALSE}
ggsave(filename = "figures/my_figure.png")
```

```{r 03-make-a-plot-22, eval=FALSE}
p_out <- p + geom_point(mapping = aes(color = log(navnvariabel))) +
    scale_x_log10()

ggsave(here("figures", "gi_et_navn.pdf"), plot = p_out)

ggsave(here("figures", "gi_et_navn.png"), plot = p_out)
```